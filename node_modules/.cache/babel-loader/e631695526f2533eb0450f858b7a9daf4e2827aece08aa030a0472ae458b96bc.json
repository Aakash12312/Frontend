{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Aakash\\\\OneDrive\\\\Documents\\\\MyApp\\\\frontend\\\\src\\\\components\\\\Header.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction Header() {\n  _s();\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [userName, setUserName] = useState('');\n  useEffect(() => {\n    // Fetch user profile to check if the user is authenticated\n    fetch('/user/profile', {\n      method: 'GET',\n      credentials: 'include' // Send cookies (including the JWT token)\n    }).then(response => {\n      if (response.status === 200) {\n        return response.json(); // If authenticated, get user data\n      }\n      return Promise.reject('Not authenticated');\n    }).then(data => {\n      setIsLoggedIn(true);\n      setUserName(data.user.name); // Set the user's name for the logged-in user\n    }).catch(() => {\n      setIsLoggedIn(false); // If not authenticated, set state to logged-out\n    });\n  }, []); // This effect runs only once when the component is mounted\n\n  const navStyle = {\n    display: 'flex',\n    gap: '2rem'\n  };\n  const handleLogout = () => {\n    // Log out by clearing the cookie and updating the state\n    fetch('/user/logout', {\n      method: 'GET',\n      credentials: 'include' // Include cookies to remove the token\n    }).then(() => {\n      setIsLoggedIn(false); // Set logged-out state\n      setUserName(''); // Clear user data\n      window.location.href = '/'; // Optionally, redirect to the home page or login page\n    }).catch(error => {\n      console.error('Logout failed:', error);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"header\", {\n    style: {\n      backgroundColor: '#1E201E',\n      color: 'white',\n      padding: '1rem',\n      display: 'flex',\n      justifyContent: 'space-between',\n      alignItems: 'center'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"watermark\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"logo\",\n      style: {\n        fontSize: '1.5rem',\n        fontWeight: 'bold'\n      },\n      children: \"THOUGHTLY\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n      style: navStyle,\n      children: [/*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"#home\",\n        style: {\n          color: 'white',\n          textDecoration: 'none',\n          transition: 'color 0.3s'\n        },\n        children: \"Home\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"#about\",\n        style: {\n          color: 'white',\n          textDecoration: 'none',\n          transition: 'color 0.3s'\n        },\n        children: \"About Us\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), !isLoggedIn ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"/user/login\",\n          style: {\n            color: 'white',\n            textDecoration: 'none',\n            transition: 'color 0.3s'\n          },\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"/user/signup\",\n          style: {\n            color: 'white',\n            textDecoration: 'none',\n            transition: 'color 0.3s'\n          },\n          children: \"Create Account\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"/blog/add\",\n          style: {\n            color: 'white',\n            textDecoration: 'none',\n            transition: 'color 0.3s'\n          },\n          children: \"Add Blog\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            color: 'white',\n            fontWeight: 'bold'\n          },\n          children: userName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n          onClick: handleLogout,\n          style: {\n            color: 'white',\n            textDecoration: 'none',\n            transition: 'color 0.3s'\n          },\n          children: \"Logout\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true), /*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"#contact\",\n        style: {\n          color: 'white',\n          textDecoration: 'none',\n          transition: 'color 0.3s'\n        },\n        children: \"Contact Us\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n}\n_s(Header, \"h8BT9GgJ1pMUFMRN15rglie0p6g=\");\n_c = Header;\nexport default Header;\nvar _c;\n$RefreshReg$(_c, \"Header\");","map":{"version":3,"names":["React","useEffect","useState","jsxDEV","_jsxDEV","Fragment","_Fragment","Header","_s","isLoggedIn","setIsLoggedIn","userName","setUserName","fetch","method","credentials","then","response","status","json","Promise","reject","data","user","name","catch","navStyle","display","gap","handleLogout","window","location","href","error","console","style","backgroundColor","color","padding","justifyContent","alignItems","children","className","fileName","_jsxFileName","lineNumber","columnNumber","fontSize","fontWeight","textDecoration","transition","onClick","_c","$RefreshReg$"],"sources":["C:/Users/Aakash/OneDrive/Documents/MyApp/frontend/src/components/Header.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\n\nfunction Header() {\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [userName, setUserName] = useState('');\n\n  useEffect(() => {\n    // Fetch user profile to check if the user is authenticated\n    fetch('/user/profile', {\n      method: 'GET',\n      credentials: 'include', // Send cookies (including the JWT token)\n    })\n      .then((response) => {\n        if (response.status === 200) {\n          return response.json(); // If authenticated, get user data\n        }\n        return Promise.reject('Not authenticated');\n      })\n      .then((data) => {\n        setIsLoggedIn(true);\n        setUserName(data.user.name); // Set the user's name for the logged-in user\n      })\n      .catch(() => {\n        setIsLoggedIn(false); // If not authenticated, set state to logged-out\n      });\n  }, []); // This effect runs only once when the component is mounted\n\n  const navStyle = {\n    display: 'flex',\n    gap: '2rem',\n  };\n\n  const handleLogout = () => {\n    // Log out by clearing the cookie and updating the state\n    fetch('/user/logout', {\n      method: 'GET',\n      credentials: 'include', // Include cookies to remove the token\n    })\n      .then(() => {\n        setIsLoggedIn(false); // Set logged-out state\n        setUserName(''); // Clear user data\n        window.location.href = '/'; // Optionally, redirect to the home page or login page\n      })\n      .catch((error) => {\n        console.error('Logout failed:', error);\n      });\n  };\n\n  return (\n    <header style={{ backgroundColor: '#1E201E', color: 'white', padding: '1rem', display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n      <div className=\"watermark\"></div>\n      <div className=\"logo\" style={{ fontSize: '1.5rem', fontWeight: 'bold' }}>THOUGHTLY</div>\n\n      <nav style={navStyle}>\n        <a href=\"#home\" style={{ color: 'white', textDecoration: 'none', transition: 'color 0.3s' }}>Home</a>\n        <a href=\"#about\" style={{ color: 'white', textDecoration: 'none', transition: 'color 0.3s' }}>About Us</a>\n\n        {!isLoggedIn ? (\n          <>\n            <a href=\"/user/login\" style={{ color: 'white', textDecoration: 'none', transition: 'color 0.3s' }}>Login</a>\n            <a href=\"/user/signup\" style={{ color: 'white', textDecoration: 'none', transition: 'color 0.3s' }}>Create Account</a>\n          </>\n        ) : (\n          <>\n            <a href=\"/blog/add\" style={{ color: 'white', textDecoration: 'none', transition: 'color 0.3s' }}>Add Blog</a>\n            <span style={{ color: 'white', fontWeight: 'bold' }}>{userName}</span>\n            <a onClick={handleLogout} style={{ color: 'white', textDecoration: 'none', transition: 'color 0.3s' }}>Logout</a>\n          </>\n        )}\n\n        <a href=\"#contact\" style={{ color: 'white', textDecoration: 'none', transition: 'color 0.3s' }}>Contact Us</a>\n      </nav>\n    </header>\n  );\n}\n\nexport default Header;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}