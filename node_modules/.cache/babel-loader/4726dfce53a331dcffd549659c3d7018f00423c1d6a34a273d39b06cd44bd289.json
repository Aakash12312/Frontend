{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Aakash\\\\OneDrive\\\\Documents\\\\MyApp\\\\frontend\\\\src\\\\components\\\\Header.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction Header() {\n  _s();\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [userName, setUserName] = useState('');\n  const [userId, setUserId] = useState('');\n  useEffect(() => {\n    const checkAuthentication = async () => {\n      try {\n        const response = await fetch('/user/profile', {\n          method: 'GET',\n          credentials: 'include' // Send cookies (JWT token)\n        });\n        if (response.status === 200) {\n          const data = await response.json(); // Return user data if authenticated\n          setIsLoggedIn(true);\n          setUserName(data.user.name); // Set user name after successful authentication\n          setUserId(data.user.id); // Set user ID for potential future use\n        } else {\n          throw new Error('Not authenticated');\n        }\n      } catch (error) {\n        setIsLoggedIn(false); // If not authenticated, update state\n        console.error(error);\n      }\n    };\n    checkAuthentication();\n  }, []); // Runs once when component is mounted\n\n  const handleLogout = async () => {\n    try {\n      await fetch('/user/logout', {\n        method: 'GET',\n        credentials: 'include' // Include cookies to clear JWT token\n      });\n      setIsLoggedIn(false); // Update state\n      setUserName(''); // Clear user data\n      setUserId(''); // Clear user ID\n      window.location.href = '/'; // Redirect to homepage (or login page)\n    } catch (error) {\n      console.error('Logout failed:', error);\n    }\n  };\n  const navStyle = {\n    display: 'flex',\n    gap: '2rem'\n  };\n  return /*#__PURE__*/_jsxDEV(\"header\", {\n    style: {\n      backgroundColor: '#1E201E',\n      color: 'white',\n      padding: '1rem',\n      display: 'flex',\n      justifyContent: 'space-between',\n      alignItems: 'center'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"watermark\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"logo\",\n      style: {\n        fontSize: '1.5rem',\n        fontWeight: 'bold'\n      },\n      children: \"THOUGHTLY\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n      style: navStyle,\n      children: [/*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"#home\",\n        style: {\n          color: 'white',\n          textDecoration: 'none',\n          transition: 'color 0.3s'\n        },\n        children: \"Home\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"#about\",\n        style: {\n          color: 'white',\n          textDecoration: 'none',\n          transition: 'color 0.3s'\n        },\n        children: \"About Us\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), !isLoggedIn ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"/user/login\",\n          style: {\n            color: 'white',\n            textDecoration: 'none',\n            transition: 'color 0.3s'\n          },\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"/user/signup\",\n          style: {\n            color: 'white',\n            textDecoration: 'none',\n            transition: 'color 0.3s'\n          },\n          children: \"Create Account\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"/blog/add\",\n          style: {\n            color: 'white',\n            textDecoration: 'none',\n            transition: 'color 0.3s'\n          },\n          children: \"Add Blog\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            color: 'white',\n            fontWeight: 'bold'\n          },\n          children: userName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n          onClick: handleLogout,\n          style: {\n            color: 'white',\n            textDecoration: 'none',\n            cursor: 'pointer',\n            transition: 'color 0.3s'\n          },\n          children: \"Logout\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true), /*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"#contact\",\n        style: {\n          color: 'white',\n          textDecoration: 'none',\n          transition: 'color 0.3s'\n        },\n        children: \"Contact Us\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 5\n  }, this);\n}\n_s(Header, \"e7VFBydojbTmVnr7+rFw9RlAfmE=\");\n_c = Header;\nexport default Header;\nvar _c;\n$RefreshReg$(_c, \"Header\");","map":{"version":3,"names":["React","useEffect","useState","jsxDEV","_jsxDEV","Fragment","_Fragment","Header","_s","isLoggedIn","setIsLoggedIn","userName","setUserName","userId","setUserId","checkAuthentication","response","fetch","method","credentials","status","data","json","user","name","id","Error","error","console","handleLogout","window","location","href","navStyle","display","gap","style","backgroundColor","color","padding","justifyContent","alignItems","children","className","fileName","_jsxFileName","lineNumber","columnNumber","fontSize","fontWeight","textDecoration","transition","onClick","cursor","_c","$RefreshReg$"],"sources":["C:/Users/Aakash/OneDrive/Documents/MyApp/frontend/src/components/Header.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\n\nfunction Header() {\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [userName, setUserName] = useState('');\n  const [userId, setUserId] = useState('');\n\n  useEffect(() => {\n    const checkAuthentication = async () => {\n      try {\n        const response = await fetch('/user/profile', {\n          method: 'GET',\n          credentials: 'include', // Send cookies (JWT token)\n        });\n\n        if (response.status === 200) {\n          const data = await response.json(); // Return user data if authenticated\n          setIsLoggedIn(true);\n          setUserName(data.user.name); // Set user name after successful authentication\n          setUserId(data.user.id); // Set user ID for potential future use\n        } else {\n          throw new Error('Not authenticated');\n        }\n      } catch (error) {\n        setIsLoggedIn(false); // If not authenticated, update state\n        console.error(error);\n      }\n    };\n\n    checkAuthentication();\n  }, []); // Runs once when component is mounted\n\n  const handleLogout = async () => {\n    try {\n      await fetch('/user/logout', {\n        method: 'GET',\n        credentials: 'include', // Include cookies to clear JWT token\n      });\n      setIsLoggedIn(false); // Update state\n      setUserName(''); // Clear user data\n      setUserId(''); // Clear user ID\n      window.location.href = '/'; // Redirect to homepage (or login page)\n    } catch (error) {\n      console.error('Logout failed:', error);\n    }\n  };\n\n  const navStyle = {\n    display: 'flex',\n    gap: '2rem',\n  };\n\n  return (\n    <header style={{ backgroundColor: '#1E201E', color: 'white', padding: '1rem', display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n      <div className=\"watermark\"></div>\n      <div className=\"logo\" style={{ fontSize: '1.5rem', fontWeight: 'bold' }}>THOUGHTLY</div>\n\n      <nav style={navStyle}>\n        <a href=\"#home\" style={{ color: 'white', textDecoration: 'none', transition: 'color 0.3s' }}>Home</a>\n        <a href=\"#about\" style={{ color: 'white', textDecoration: 'none', transition: 'color 0.3s' }}>About Us</a>\n\n        {!isLoggedIn ? (\n          <>\n            <a href=\"/user/login\" style={{ color: 'white', textDecoration: 'none', transition: 'color 0.3s' }}>Login</a>\n            <a href=\"/user/signup\" style={{ color: 'white', textDecoration: 'none', transition: 'color 0.3s' }}>Create Account</a>\n          </>\n        ) : (\n          <>\n            <a href=\"/blog/add\" style={{ color: 'white', textDecoration: 'none', transition: 'color 0.3s' }}>Add Blog</a>\n            <span style={{ color: 'white', fontWeight: 'bold' }}>{userName}</span>\n            <a onClick={handleLogout} style={{ color: 'white', textDecoration: 'none', cursor: 'pointer', transition: 'color 0.3s' }}>Logout</a>\n          </>\n        )}\n\n        <a href=\"#contact\" style={{ color: 'white', textDecoration: 'none', transition: 'color 0.3s' }}>Contact Us</a>\n      </nav>\n    </header>\n  );\n}\n\nexport default Header;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAEnD,SAASC,MAAMA,CAAA,EAAG;EAAAC,EAAA;EAChB,MAAM,CAACC,UAAU,EAAEC,aAAa,CAAC,GAAGR,QAAQ,CAAC,KAAK,CAAC;EACnD,MAAM,CAACS,QAAQ,EAAEC,WAAW,CAAC,GAAGV,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACW,MAAM,EAAEC,SAAS,CAAC,GAAGZ,QAAQ,CAAC,EAAE,CAAC;EAExCD,SAAS,CAAC,MAAM;IACd,MAAMc,mBAAmB,GAAG,MAAAA,CAAA,KAAY;MACtC,IAAI;QACF,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,eAAe,EAAE;UAC5CC,MAAM,EAAE,KAAK;UACbC,WAAW,EAAE,SAAS,CAAE;QAC1B,CAAC,CAAC;QAEF,IAAIH,QAAQ,CAACI,MAAM,KAAK,GAAG,EAAE;UAC3B,MAAMC,IAAI,GAAG,MAAML,QAAQ,CAACM,IAAI,CAAC,CAAC,CAAC,CAAC;UACpCZ,aAAa,CAAC,IAAI,CAAC;UACnBE,WAAW,CAACS,IAAI,CAACE,IAAI,CAACC,IAAI,CAAC,CAAC,CAAC;UAC7BV,SAAS,CAACO,IAAI,CAACE,IAAI,CAACE,EAAE,CAAC,CAAC,CAAC;QAC3B,CAAC,MAAM;UACL,MAAM,IAAIC,KAAK,CAAC,mBAAmB,CAAC;QACtC;MACF,CAAC,CAAC,OAAOC,KAAK,EAAE;QACdjB,aAAa,CAAC,KAAK,CAAC,CAAC,CAAC;QACtBkB,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;MACtB;IACF,CAAC;IAEDZ,mBAAmB,CAAC,CAAC;EACvB,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;;EAER,MAAMc,YAAY,GAAG,MAAAA,CAAA,KAAY;IAC/B,IAAI;MACF,MAAMZ,KAAK,CAAC,cAAc,EAAE;QAC1BC,MAAM,EAAE,KAAK;QACbC,WAAW,EAAE,SAAS,CAAE;MAC1B,CAAC,CAAC;MACFT,aAAa,CAAC,KAAK,CAAC,CAAC,CAAC;MACtBE,WAAW,CAAC,EAAE,CAAC,CAAC,CAAC;MACjBE,SAAS,CAAC,EAAE,CAAC,CAAC,CAAC;MACfgB,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,GAAG,CAAC,CAAC;IAC9B,CAAC,CAAC,OAAOL,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,gBAAgB,EAAEA,KAAK,CAAC;IACxC;EACF,CAAC;EAED,MAAMM,QAAQ,GAAG;IACfC,OAAO,EAAE,MAAM;IACfC,GAAG,EAAE;EACP,CAAC;EAED,oBACE/B,OAAA;IAAQgC,KAAK,EAAE;MAAEC,eAAe,EAAE,SAAS;MAAEC,KAAK,EAAE,OAAO;MAAEC,OAAO,EAAE,MAAM;MAAEL,OAAO,EAAE,MAAM;MAAEM,cAAc,EAAE,eAAe;MAAEC,UAAU,EAAE;IAAS,CAAE;IAAAC,QAAA,gBACrJtC,OAAA;MAAKuC,SAAS,EAAC;IAAW;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM,CAAC,eACjC3C,OAAA;MAAKuC,SAAS,EAAC,MAAM;MAACP,KAAK,EAAE;QAAEY,QAAQ,EAAE,QAAQ;QAAEC,UAAU,EAAE;MAAO,CAAE;MAAAP,QAAA,EAAC;IAAS;MAAAE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC,eAExF3C,OAAA;MAAKgC,KAAK,EAAEH,QAAS;MAAAS,QAAA,gBACnBtC,OAAA;QAAG4B,IAAI,EAAC,OAAO;QAACI,KAAK,EAAE;UAAEE,KAAK,EAAE,OAAO;UAAEY,cAAc,EAAE,MAAM;UAAEC,UAAU,EAAE;QAAa,CAAE;QAAAT,QAAA,EAAC;MAAI;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC,eACrG3C,OAAA;QAAG4B,IAAI,EAAC,QAAQ;QAACI,KAAK,EAAE;UAAEE,KAAK,EAAE,OAAO;UAAEY,cAAc,EAAE,MAAM;UAAEC,UAAU,EAAE;QAAa,CAAE;QAAAT,QAAA,EAAC;MAAQ;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC,EAEzG,CAACtC,UAAU,gBACVL,OAAA,CAAAE,SAAA;QAAAoC,QAAA,gBACEtC,OAAA;UAAG4B,IAAI,EAAC,aAAa;UAACI,KAAK,EAAE;YAAEE,KAAK,EAAE,OAAO;YAAEY,cAAc,EAAE,MAAM;YAAEC,UAAU,EAAE;UAAa,CAAE;UAAAT,QAAA,EAAC;QAAK;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC,eAC5G3C,OAAA;UAAG4B,IAAI,EAAC,cAAc;UAACI,KAAK,EAAE;YAAEE,KAAK,EAAE,OAAO;YAAEY,cAAc,EAAE,MAAM;YAAEC,UAAU,EAAE;UAAa,CAAE;UAAAT,QAAA,EAAC;QAAc;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC;MAAA,eACtH,CAAC,gBAEH3C,OAAA,CAAAE,SAAA;QAAAoC,QAAA,gBACEtC,OAAA;UAAG4B,IAAI,EAAC,WAAW;UAACI,KAAK,EAAE;YAAEE,KAAK,EAAE,OAAO;YAAEY,cAAc,EAAE,MAAM;YAAEC,UAAU,EAAE;UAAa,CAAE;UAAAT,QAAA,EAAC;QAAQ;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC,eAC7G3C,OAAA;UAAMgC,KAAK,EAAE;YAAEE,KAAK,EAAE,OAAO;YAAEW,UAAU,EAAE;UAAO,CAAE;UAAAP,QAAA,EAAE/B;QAAQ;UAAAiC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eACtE3C,OAAA;UAAGgD,OAAO,EAAEvB,YAAa;UAACO,KAAK,EAAE;YAAEE,KAAK,EAAE,OAAO;YAAEY,cAAc,EAAE,MAAM;YAAEG,MAAM,EAAE,SAAS;YAAEF,UAAU,EAAE;UAAa,CAAE;UAAAT,QAAA,EAAC;QAAM;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC;MAAA,eACpI,CACH,eAED3C,OAAA;QAAG4B,IAAI,EAAC,UAAU;QAACI,KAAK,EAAE;UAAEE,KAAK,EAAE,OAAO;UAAEY,cAAc,EAAE,MAAM;UAAEC,UAAU,EAAE;QAAa,CAAE;QAAAT,QAAA,EAAC;MAAU;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC3G,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACA,CAAC;AAEb;AAACvC,EAAA,CA5EQD,MAAM;AAAA+C,EAAA,GAAN/C,MAAM;AA8Ef,eAAeA,MAAM;AAAC,IAAA+C,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}